<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>장비 슬롯 &amp; 룬 슬롯</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="layout">
      <section class="panel equipment" aria-labelledby="equipment-title">
        <h1 id="equipment-title">장비 슬롯</h1>
        <p class="panel__hint">착용 부위를 선택하면 우측에 룬 카드 목록이 표시됩니다.</p>
        <div class="equipment__list" role="list">
          <button class="equipment__slot" data-slot="무기" type="button">무기</button>
          <button class="equipment__slot" data-slot="목걸이" type="button">목걸이</button>
          <button class="equipment__slot" data-slot="반지1" type="button">반지1</button>
          <button class="equipment__slot" data-slot="반지2" type="button">반지2</button>
          <button class="equipment__slot" data-slot="엠블럼" type="button">엠블럼</button>
          <button class="equipment__slot" data-slot="모자" type="button">모자</button>
          <button class="equipment__slot" data-slot="상의" type="button">상의</button>
          <button class="equipment__slot" data-slot="하의" type="button">하의</button>
          <button class="equipment__slot" data-slot="장갑" type="button">장갑</button>
          <button class="equipment__slot" data-slot="신발" type="button">신발</button>
        </div>
      </section>

      <section class="panel rune" aria-labelledby="rune-title">
        <div class="rune__header">
          <h1 id="rune-title">룬 슬롯</h1>
          <p class="panel__hint">각 장비 부위에 착용 가능한 룬 카드를 이 영역에 정리하세요.</p>
        </div>
        <div class="rune__selected" aria-live="polite">선택된 장비 없음</div>
        <div class="rune__list" id="rune-list" aria-live="polite">
          <p class="rune__placeholder">좌측에서 장비 슬롯을 선택하면 룬 카드 리스트가 표시됩니다.</p>
        </div>
      </section>
    </main>

    <script>
      const runeData = {
        무기: [],
        목걸이: [],
        반지1: [],
        반지2: [],
        엠블럼: [],
        모자: [],
        상의: [],
        하의: [],
        장갑: [],
        신발: [],
      };

      const equipmentButtons = document.querySelectorAll('.equipment__slot');
      const runeList = document.getElementById('rune-list');
      const selectedSlotLabel = document.querySelector('.rune__selected');

      function renderRuneList(slot) {
        const cards = runeData[slot] ?? [];

        runeList.innerHTML = '';

        if (!cards.length) {
          runeList.innerHTML =
            '<p class="rune__placeholder">룬 카드가 등록되면 여기에 표시됩니다.</p>';
          return;
        }

        const fragment = document.createDocumentFragment();

        cards.forEach((card) => {
          const cardElement = document.createElement('article');
          cardElement.className = 'rune-card';

          const title = document.createElement('h2');
          title.className = 'rune-card__title';
          title.textContent = card.name;

          const description = document.createElement('p');
          description.className = 'rune-card__description';
          description.textContent = card.description;

          cardElement.appendChild(title);
          cardElement.appendChild(description);
          fragment.appendChild(cardElement);
        });

        runeList.appendChild(fragment);
      }

      equipmentButtons.forEach((button) => {
        button.addEventListener('click', () => {
          equipmentButtons.forEach((el) => el.classList.remove('equipment__slot--active'));
          button.classList.add('equipment__slot--active');

          const slotName = button.dataset.slot;
          selectedSlotLabel.textContent = `선택된 장비: ${slotName}`;
          renderRuneList(slotName);
        });
      });
    </script>
  </body>
</html>
